{% load static tailwind_tags %}
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{% block title %}DailyFluent{% endblock %}</title>
  <link rel="icon" type="image/svg+xml" href="{% static 'logo_official.png' %}" />
  <link rel="stylesheet" href="{% static 'css/audio-player.css' %}">
  <link rel="stylesheet" href="{% static 'css/loader.css' %}">

  {% tailwind_css %}
  {# Load after Tailwind to ensure our layout overrides always win (and bust cache) #}
  <link rel="stylesheet" href="{% static 'css/theme.css' %}?v=20251227">
  
  {# Allow child templates to add page-specific CSS #}
  {% block extra_css %}{% endblock %}

  {# Google Fonts: Vietnamese UI + Japanese (Noto Sans JP) #}
  <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;600;700&family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">

  {# Ưu tiên font Việt cho toàn site, font Nhật chỉ dùng khi cần (fallback glyph) #}
  <style>
    html {
      font-family: "Be Vietnam Pro",
                  system-ui, -apple-system, BlinkMacSystemFont,
                  "Segoe UI", Roboto, "Helvetica Neue", Arial,
                  "Noto Sans JP",
                  "Yu Gothic", "Hiragino Kaku Gothic ProN",
                  "Meiryo", sans-serif;
    }

    body {
      font-size: 18px;              /* tăng lên 16px mặc định */
      line-height: 1.75;           /* giãn dòng vừa phải */
      letter-spacing: 0.02em;      /* hơi giãn nhẹ toàn site */
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-rendering: optimizeLegibility;
    }

    @media (min-width: 768px) {
      body {
        font-size: 17px;           /* màn hình lớn hơn -> chữ to hơn xíu */
      }
    }
  </style>


  {# CSS từ django-tailwind (theme) #}
</head>
<body class="bg-slate-100 text-slate-900 antialiased df-has-fixed-header">

  {# ========== TOP BAR (có thể override bởi template con) ========== #}
  {% block site_header %}
    {% include "components/navigation/header.html" %}
  {% endblock site_header %}

  <!-- MAIN -->
  <main class="df-main-scroll {% block main_classes %}df-page-full{% endblock %}">
    <div class="df-main-content-wrapper">
      {% block content %}{% endblock %}
    </div>
    
    <!-- FOOTER -->
    {% include "components/footer.html" %}
  </main>

  {# Navigation JavaScript #}
  <script src="{% static 'js/navigation.js' %}"></script>
  {# Audio Player JavaScript #}
  <script src="{% static 'js/audio-player.js' %}"></script>

</body>
</html>
