{% extends "layouts/sidebar_layout.html" %}
{% load static %}
{% load humanize %}

{% block title %}T·ª´ v·ª±ng c·ªßa t√¥i | DailyFluent{% endblock %}

{% block extra_css %}
<style>
  /* =============================================
     My Words - Glassmorphism Bento Grid Design
     ============================================= */

  /* CSS Variables - Soothing Pastel Palette */
  :root {
    --glass-bg: rgba(255, 255, 255, 0.7);
    --glass-border: rgba(255, 255, 255, 0.5);
    --glass-shadow: 0 8px 32px rgba(31, 38, 135, 0.15);
    --glass-blur: blur(16px);

    /* Pastel Colors */
    --pastel-lavender: #E8E0F0;
    --pastel-mint: #D4EDDA;
    --pastel-peach: #FFECD2;
    --pastel-sky: #D6EAF8;
    --pastel-rose: #FADBD8;
    --pastel-lemon: #FEF9E7;

    /* Gradient Accents */
    --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --gradient-success: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
    --gradient-warm: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    --gradient-ocean: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    --gradient-sunset: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
    --gradient-aurora: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);

    /* Text Colors - High Contrast */
    --text-dark: #1a1a2e;
    --text-medium: #4a4a68;
    --text-light: #6b6b8a;
    --text-muted: #9999aa;

    /* Animation */
    --transition-smooth: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    --transition-bounce: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }

  [data-theme="dark"] {
    --glass-bg: rgba(30, 30, 50, 0.75);
    --glass-border: rgba(255, 255, 255, 0.1);
    --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);

    --pastel-lavender: rgba(130, 100, 180, 0.3);
    --pastel-mint: rgba(46, 139, 87, 0.3);
    --pastel-peach: rgba(255, 180, 120, 0.3);
    --pastel-sky: rgba(100, 149, 237, 0.3);
    --pastel-rose: rgba(219, 112, 147, 0.3);
    --pastel-lemon: rgba(255, 215, 100, 0.3);

    --text-dark: #f0f0f5;
    --text-medium: #c0c0d0;
    --text-light: #a0a0b5;
    --text-muted: #707085;
  }

  /* Animated Background */
  .df-mywords-page {
    min-height: 100vh;
    background:
      radial-gradient(ellipse at 20% 20%, var(--pastel-lavender) 0%, transparent 50%),
      radial-gradient(ellipse at 80% 80%, var(--pastel-mint) 0%, transparent 50%),
      radial-gradient(ellipse at 60% 10%, var(--pastel-peach) 0%, transparent 40%),
      radial-gradient(ellipse at 10% 90%, var(--pastel-sky) 0%, transparent 40%);
    background-attachment: fixed;
    padding: 2rem 1rem;
    position: relative;
    overflow-x: hidden;
  }

  [data-theme="dark"] .df-mywords-page {
    background:
      radial-gradient(ellipse at 20% 20%, rgba(102, 126, 234, 0.15) 0%, transparent 50%),
      radial-gradient(ellipse at 80% 80%, rgba(118, 75, 162, 0.15) 0%, transparent 50%),
      radial-gradient(ellipse at 60% 10%, rgba(240, 147, 251, 0.1) 0%, transparent 40%),
      #0f0f1a;
    background-attachment: fixed;
  }

  /* Floating Orbs Animation */
  .df-mywords-page::before,
  .df-mywords-page::after {
    content: '';
    position: fixed;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.5;
    pointer-events: none;
    animation: float 20s ease-in-out infinite;
    z-index: 0;
  }

  .df-mywords-page::before {
    width: 400px;
    height: 400px;
    background: var(--gradient-aurora);
    top: -100px;
    right: -100px;
  }

  .df-mywords-page::after {
    width: 300px;
    height: 300px;
    background: var(--gradient-ocean);
    bottom: -50px;
    left: -50px;
    animation-delay: -10s;
  }

  @keyframes float {
    0%, 100% { transform: translate(0, 0) scale(1); }
    25% { transform: translate(30px, -30px) scale(1.05); }
    50% { transform: translate(-20px, 20px) scale(0.95); }
    75% { transform: translate(-30px, -20px) scale(1.02); }
  }

  /* Main Container */
  .df-mywords-container {
    max-width: 1200px;
    margin: 0 auto;
    position: relative;
    z-index: 1;
  }

  /* Glassmorphism Card Base */
  .glass-card {
    background: var(--glass-bg);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
    border: 1px solid var(--glass-border);
    border-radius: 24px;
    box-shadow: var(--glass-shadow);
    transition: var(--transition-smooth);
  }

  .glass-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 40px rgba(31, 38, 135, 0.2);
  }

  /* ========== HEADER SECTION ========== */
  .df-header-card {
    padding: 2.5rem;
    text-align: center;
    margin-bottom: 2rem;
    position: relative;
    overflow: hidden;
  }

  .df-header-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: var(--gradient-primary);
  }

  .df-mywords-title {
    font-size: 2.25rem;
    font-weight: 800;
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 0.5rem;
    letter-spacing: -0.03em;
  }

  .df-mywords-subtitle {
    font-size: 1rem;
    color: var(--text-medium);
    margin-bottom: 1.5rem;
  }

  /* Header Actions */
  .df-header-actions {
    display: flex;
    gap: 0.75rem;
    justify-content: center;
    flex-wrap: wrap;
  }

  .df-action-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.25rem;
    border-radius: 12px;
    font-size: 0.875rem;
    font-weight: 600;
    text-decoration: none;
    transition: var(--transition-smooth);
    border: 1px solid transparent;
  }

  .df-action-btn--primary {
    background: var(--gradient-primary);
    color: white;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
  }

  .df-action-btn--primary:hover {
    transform: translateY(-2px) scale(1.02);
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.5);
  }

  .df-action-btn--secondary {
    background: var(--glass-bg);
    color: var(--text-dark);
    border-color: var(--glass-border);
    backdrop-filter: blur(8px);
  }

  .df-action-btn--secondary:hover {
    background: rgba(255, 255, 255, 0.9);
    border-color: rgba(102, 126, 234, 0.3);
  }

  [data-theme="dark"] .df-action-btn--secondary:hover {
    background: rgba(255, 255, 255, 0.15);
  }

  /* Ready Badge */
  .df-ready-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.625rem 1.25rem;
    background: var(--gradient-success);
    border-radius: 50px;
    color: white;
    font-size: 0.875rem;
    font-weight: 600;
    box-shadow: 0 4px 15px rgba(17, 153, 142, 0.35);
    animation: pulse-glow 2s ease-in-out infinite;
    margin-top: 1.5rem;
  }

  @keyframes pulse-glow {
    0%, 100% { box-shadow: 0 4px 15px rgba(17, 153, 142, 0.35); }
    50% { box-shadow: 0 4px 25px rgba(17, 153, 142, 0.5); }
  }

  .df-ready-badge svg {
    width: 18px;
    height: 18px;
    animation: bounce 1s ease infinite;
  }

  @keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-3px); }
  }

  /* ========== BENTO GRID LAYOUT ========== */
  .df-bento-grid {
    display: grid;
    grid-template-columns: repeat(12, 1fr);
    grid-auto-rows: minmax(100px, auto);
    gap: 1.25rem;
    margin-bottom: 2rem;
  }

  /* Bento Card Sizes */
  .bento-span-6 { grid-column: span 6; }
  .bento-span-4 { grid-column: span 4; }
  .bento-span-8 { grid-column: span 8; }
  .bento-span-12 { grid-column: span 12; }
  .bento-row-2 { grid-row: span 2; }

  @media (max-width: 1024px) {
    .bento-span-6, .bento-span-4, .bento-span-8 { grid-column: span 6; }
  }

  @media (max-width: 768px) {
    .df-bento-grid {
      grid-template-columns: 1fr;
      gap: 1rem;
    }
    .bento-span-6, .bento-span-4, .bento-span-8, .bento-span-12 {
      grid-column: span 1;
    }
    .bento-row-2 { grid-row: span 1; }
  }

  /* ========== SRS FLASHCARD CARD ========== */
  .df-srs-card {
    padding: 2rem;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    position: relative;
    overflow: hidden;
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%),
                var(--glass-bg);
  }

  .df-srs-card::before {
    content: '';
    position: absolute;
    top: -50%;
    right: -50%;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle, rgba(102, 126, 234, 0.2) 0%, transparent 60%);
    animation: rotate-slow 20s linear infinite;
  }

  @keyframes rotate-slow {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  .df-srs-content {
    position: relative;
    z-index: 1;
  }

  .df-srs-icon-wrapper {
    width: 64px;
    height: 64px;
    border-radius: 20px;
    background: var(--gradient-primary);
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 1.25rem;
    box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
    transition: var(--transition-bounce);
  }

  .df-srs-card:hover .df-srs-icon-wrapper {
    transform: scale(1.1) rotate(5deg);
  }

  .df-srs-icon-wrapper svg {
    width: 32px;
    height: 32px;
    color: white;
  }

  .df-srs-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--text-dark);
    margin-bottom: 0.5rem;
  }

  .df-srs-desc {
    font-size: 0.9375rem;
    color: var(--text-light);
    margin-bottom: 1.5rem;
    line-height: 1.5;
  }

  .df-srs-start-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.625rem;
    padding: 1rem 1.75rem;
    background: var(--gradient-primary);
    color: white;
    font-size: 1rem;
    font-weight: 700;
    border-radius: 14px;
    text-decoration: none;
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
    transition: var(--transition-smooth);
    position: relative;
    z-index: 1;
  }

  .df-srs-start-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 35px rgba(102, 126, 234, 0.5);
  }

  .df-srs-start-btn svg {
    width: 20px;
    height: 20px;
    transition: transform 0.3s ease;
  }

  .df-srs-start-btn:hover svg {
    transform: translateX(4px);
  }

  /* ========== STATS CARDS ========== */
  .df-stat-card {
    padding: 1.75rem;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    position: relative;
    overflow: hidden;
  }

  .df-stat-card--learning {
    background: linear-gradient(135deg, var(--pastel-sky) 0%, rgba(255,255,255,0.5) 100%),
                var(--glass-bg);
  }

  .df-stat-card--mastered {
    background: linear-gradient(135deg, var(--pastel-mint) 0%, rgba(255,255,255,0.5) 100%),
                var(--glass-bg);
  }

  .df-stat-icon {
    width: 48px;
    height: 48px;
    border-radius: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 0.5rem;
    transition: var(--transition-bounce);
  }

  .df-stat-card:hover .df-stat-icon {
    transform: scale(1.15) rotate(-5deg);
  }

  .df-stat-icon--learning {
    background: var(--gradient-ocean);
    box-shadow: 0 6px 15px rgba(79, 172, 254, 0.4);
  }

  .df-stat-icon--mastered {
    background: var(--gradient-success);
    box-shadow: 0 6px 15px rgba(17, 153, 142, 0.4);
  }

  .df-stat-icon svg {
    width: 24px;
    height: 24px;
    color: white;
  }

  .df-stat-value {
    font-size: 3rem;
    font-weight: 800;
    color: var(--text-dark);
    line-height: 1;
    letter-spacing: -0.04em;
  }

  .df-stat-label {
    font-size: 0.9375rem;
    color: var(--text-medium);
    font-weight: 500;
  }

  /* ========== GAMES SECTION ========== */
  .df-games-card {
    padding: 1.75rem;
  }

  .df-section-header {
    display: flex;
    align-items: center;
    gap: 0.625rem;
    margin-bottom: 1.25rem;
  }

  .df-section-icon {
    width: 36px;
    height: 36px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.25rem;
  }

  .df-section-title {
    font-size: 1.125rem;
    font-weight: 700;
    color: var(--text-dark);
  }

  .df-games-grid {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 0.875rem;
  }

  @media (max-width: 1024px) {
    .df-games-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  @media (max-width: 640px) {
    .df-games-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  .df-game-card {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
    padding: 1.25rem 1rem;
    background: rgba(255, 255, 255, 0.5);
    border: 1px solid rgba(255, 255, 255, 0.6);
    border-radius: 16px;
    text-decoration: none;
    transition: var(--transition-smooth);
    cursor: pointer;
  }

  [data-theme="dark"] .df-game-card {
    background: rgba(255, 255, 255, 0.08);
    border-color: rgba(255, 255, 255, 0.12);
  }

  .df-game-card:hover {
    transform: translateY(-6px) scale(1.02);
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.12);
    background: rgba(255, 255, 255, 0.8);
  }

  [data-theme="dark"] .df-game-card:hover {
    background: rgba(255, 255, 255, 0.15);
  }

  .df-game-icon {
    width: 52px;
    height: 52px;
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: var(--transition-bounce);
  }

  .df-game-card:hover .df-game-icon {
    transform: scale(1.15) rotate(8deg);
  }

  .df-game-icon svg {
    width: 26px;
    height: 26px;
    color: white;
  }

  .df-game-name {
    font-size: 0.8125rem;
    font-weight: 600;
    color: var(--text-dark);
    text-align: center;
  }

  .df-game-hot {
    position: absolute;
    top: -8px;
    right: -4px;
    padding: 0.25rem 0.625rem;
    background: var(--gradient-warm);
    border-radius: 8px;
    font-size: 0.625rem;
    font-weight: 800;
    color: white;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    box-shadow: 0 4px 12px rgba(245, 87, 108, 0.4);
    animation: pulse-hot 1.5s ease-in-out infinite;
  }

  @keyframes pulse-hot {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.08); }
  }

  /* Game Icon Colors */
  .df-game-icon--mcq { background: linear-gradient(135deg, #f97316, #fbbf24); box-shadow: 0 6px 15px rgba(249, 115, 22, 0.4); }
  .df-game-icon--matching { background: linear-gradient(135deg, #8b5cf6, #c084fc); box-shadow: 0 6px 15px rgba(139, 92, 246, 0.4); }
  .df-game-icon--listening { background: linear-gradient(135deg, #14b8a6, #5eead4); box-shadow: 0 6px 15px rgba(20, 184, 166, 0.4); }
  .df-game-icon--fill { background: linear-gradient(135deg, #ec4899, #f9a8d4); box-shadow: 0 6px 15px rgba(236, 72, 153, 0.4); }
  .df-game-icon--dictation { background: linear-gradient(135deg, #0ea5e9, #7dd3fc); box-shadow: 0 6px 15px rgba(14, 165, 233, 0.4); }

  /* ========== LEARNING SETS ========== */
  .df-sets-card {
    padding: 1.75rem;
  }

  .df-learning-sets {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }

  .df-learning-set-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    padding: 1rem 1.25rem;
    background: rgba(255, 255, 255, 0.5);
    border: 1px solid rgba(255, 255, 255, 0.6);
    border-radius: 14px;
    text-decoration: none;
    transition: var(--transition-smooth);
  }

  [data-theme="dark"] .df-learning-set-item {
    background: rgba(255, 255, 255, 0.08);
    border-color: rgba(255, 255, 255, 0.12);
  }

  .df-learning-set-item:hover {
    background: rgba(255, 255, 255, 0.85);
    transform: translateX(8px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
  }

  [data-theme="dark"] .df-learning-set-item:hover {
    background: rgba(255, 255, 255, 0.15);
  }

  .df-set-info {
    flex: 1;
    min-width: 0;
  }

  .df-set-title {
    font-size: 0.9375rem;
    font-weight: 600;
    color: var(--text-dark);
    margin-bottom: 0.625rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .df-set-progress {
    display: flex;
    align-items: center;
    gap: 0.875rem;
  }

  .df-progress-bar {
    flex: 1;
    height: 6px;
    background: rgba(0, 0, 0, 0.08);
    border-radius: 999px;
    overflow: hidden;
  }

  [data-theme="dark"] .df-progress-bar {
    background: rgba(255, 255, 255, 0.15);
  }

  .df-progress-fill {
    height: 100%;
    background: var(--gradient-success);
    border-radius: 999px;
    transition: width 0.6s cubic-bezier(0.16, 1, 0.3, 1);
    position: relative;
    overflow: hidden;
  }

  .df-progress-fill::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
    animation: shimmer 2s infinite;
  }

  @keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
  }

  .df-progress-text {
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--text-medium);
    white-space: nowrap;
  }

  .df-set-arrow {
    width: 24px;
    height: 24px;
    color: var(--text-muted);
    transition: var(--transition-smooth);
  }

  .df-learning-set-item:hover .df-set-arrow {
    color: var(--text-dark);
    transform: translateX(4px);
  }

  /* ========== WORDS TABLE ========== */
  .df-words-card {
    padding: 0;
    overflow: hidden;
  }

  .df-words-header {
    padding: 1.5rem 1.75rem 1rem;
    border-bottom: 1px solid var(--glass-border);
  }

  .df-words-table-wrapper {
    overflow-x: auto;
  }

  .df-words-table {
    width: 100%;
    border-collapse: collapse;
  }

  .df-words-table th,
  .df-words-table td {
    padding: 1rem 1.75rem;
    text-align: left;
    border-bottom: 1px solid rgba(0, 0, 0, 0.04);
  }

  [data-theme="dark"] .df-words-table th,
  [data-theme="dark"] .df-words-table td {
    border-bottom-color: rgba(255, 255, 255, 0.06);
  }

  .df-words-table th {
    font-weight: 700;
    color: var(--text-light);
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    background: rgba(0, 0, 0, 0.02);
  }

  [data-theme="dark"] .df-words-table th {
    background: rgba(255, 255, 255, 0.03);
  }

  .df-words-table tbody tr {
    transition: var(--transition-smooth);
  }

  .df-words-table tbody tr:hover {
    background: rgba(102, 126, 234, 0.05);
  }

  .df-words-table tr:last-child td {
    border-bottom: none;
  }

  .df-word-cell {
    display: flex;
    align-items: center;
    gap: 0.75rem;
  }

  .df-word-avatar {
    width: 40px;
    height: 40px;
    border-radius: 12px;
    background: var(--gradient-aurora);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1rem;
    font-weight: 700;
    color: var(--text-dark);
    text-transform: uppercase;
    flex-shrink: 0;
  }

  .df-word-text {
    font-weight: 700;
    font-size: 1rem;
    color: var(--text-dark);
  }

  /* Status Badges */
  .df-status-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.375rem;
    padding: 0.375rem 0.875rem;
    border-radius: 8px;
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.03em;
  }

  .df-status-badge--learning {
    background: linear-gradient(135deg, rgba(79, 172, 254, 0.15), rgba(0, 242, 254, 0.15));
    color: #0284c7;
  }

  .df-status-badge--review {
    background: linear-gradient(135deg, rgba(17, 153, 142, 0.15), rgba(56, 239, 125, 0.15));
    color: #059669;
  }

  .df-status-badge--relearning {
    background: linear-gradient(135deg, rgba(240, 147, 251, 0.15), rgba(245, 87, 108, 0.15));
    color: #db2777;
  }

  .df-status-badge--new {
    background: rgba(0, 0, 0, 0.06);
    color: var(--text-light);
  }

  [data-theme="dark"] .df-status-badge--learning { color: #38bdf8; }
  [data-theme="dark"] .df-status-badge--review { color: #34d399; }
  [data-theme="dark"] .df-status-badge--relearning { color: #f472b6; }
  [data-theme="dark"] .df-status-badge--new { background: rgba(255, 255, 255, 0.08); color: var(--text-muted); }

  .df-status-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    animation: pulse-dot 1.5s ease-in-out infinite;
  }

  .df-status-badge--learning .df-status-dot { background: #0284c7; }
  .df-status-badge--review .df-status-dot { background: #059669; }
  .df-status-badge--relearning .df-status-dot { background: #db2777; }

  @keyframes pulse-dot {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.5; transform: scale(0.8); }
  }

  .df-due-time {
    font-size: 0.875rem;
    color: var(--text-medium);
  }

  /* ========== PAGINATION ========== */
  .df-pagination {
    display: flex;
    justify-content: center;
    gap: 0.5rem;
    padding: 1.5rem;
    border-top: 1px solid var(--glass-border);
  }

  .df-page-btn {
    min-width: 40px;
    height: 40px;
    padding: 0 0.875rem;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 12px;
    background: rgba(255, 255, 255, 0.5);
    border: 1px solid rgba(255, 255, 255, 0.6);
    color: var(--text-medium);
    font-size: 0.875rem;
    font-weight: 600;
    transition: var(--transition-smooth);
    text-decoration: none;
    cursor: pointer;
  }

  [data-theme="dark"] .df-page-btn {
    background: rgba(255, 255, 255, 0.08);
    border-color: rgba(255, 255, 255, 0.12);
  }

  .df-page-btn:hover {
    background: rgba(255, 255, 255, 0.85);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    color: var(--text-dark);
  }

  .df-page-btn.active {
    background: var(--gradient-primary);
    color: white;
    border-color: transparent;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
  }

  /* ========== EMPTY STATE ========== */
  .df-empty-state {
    text-align: center;
    padding: 4rem 2rem;
  }

  .df-empty-illustration {
    width: 120px;
    height: 120px;
    margin: 0 auto 1.5rem;
    background: var(--gradient-aurora);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 3rem;
    animation: float 4s ease-in-out infinite;
  }

  .df-empty-title {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--text-dark);
    margin-bottom: 0.5rem;
  }

  .df-empty-text {
    color: var(--text-medium);
    margin-bottom: 1.5rem;
    font-size: 0.9375rem;
  }

  .df-empty-link {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.875rem 1.5rem;
    background: var(--gradient-primary);
    color: white;
    font-weight: 600;
    border-radius: 12px;
    text-decoration: none;
    transition: var(--transition-smooth);
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
  }

  .df-empty-link:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.5);
  }

  .df-empty-link svg {
    width: 18px;
    height: 18px;
    transition: transform 0.3s ease;
  }

  .df-empty-link:hover svg {
    transform: translateX(4px);
  }

  /* ========== RESPONSIVE ========== */
  @media (max-width: 640px) {
    .df-mywords-page {
      padding: 1rem 0.75rem;
    }

    .df-header-card {
      padding: 1.75rem 1.25rem;
    }

    .df-mywords-title {
      font-size: 1.75rem;
    }

    .df-header-actions {
      flex-direction: column;
    }

    .df-action-btn {
      width: 100%;
      justify-content: center;
    }

    .df-srs-card {
      padding: 1.5rem;
    }

    .df-stat-value {
      font-size: 2.25rem;
    }

    .df-words-table th,
    .df-words-table td {
      padding: 0.875rem 1rem;
    }

    .df-word-avatar {
      display: none;
    }
  }
</style>
{% endblock %}

{% block content %}
<div class="df-mywords-page">
  <div class="df-mywords-container">

    <!-- Header Card -->
    <div class="glass-card df-header-card">
      <h1 class="df-mywords-title">T·ª´ v·ª±ng c·ªßa t√¥i</h1>
      <p class="df-mywords-subtitle">Luy·ªán t·∫≠p h√†ng ng√†y, n√¢ng cao v·ªën t·ª´ m·ªói ng√†y</p>

      <div class="df-header-actions">
        <a href="{% url 'vocab:set_create' %}" class="df-action-btn df-action-btn--primary">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
            <path d="M12 5v14M5 12h14"/>
          </svg>
          T·∫°o b·ªô t·ª´ m·ªõi
        </a>
        <a href="{% url 'vocab:set_list' %}?tab=my" class="df-action-btn df-action-btn--secondary">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/>
            <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/>
          </svg>
          B·ªô t·ª´ c·ªßa t√¥i
        </a>
      </div>

      {% if ready_count > 0 %}
      <div class="df-ready-badge">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2.5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        <span>{{ ready_count }} t·ª´ s·∫µn s√†ng √¥n t·∫≠p</span>
      </div>
      {% endif %}
    </div>

    <!-- Bento Grid -->
    <div class="df-bento-grid">

      <!-- SRS Flashcard Card -->
      <div class="glass-card df-srs-card bento-span-6 bento-row-2">
        <div class="df-srs-content">
          <div class="df-srs-icon-wrapper">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12" />
            </svg>
          </div>
          <h2 class="df-srs-title">Flashcard SRS</h2>
          <p class="df-srs-desc">H·ªá th·ªëng √¥n t·∫≠p th√¥ng minh v·ªõi thu·∫≠t to√°n l·∫∑p l·∫°i ng·∫Øt qu√£ng, gi√∫p b·∫°n ghi nh·ªõ t·ª´ v·ª±ng hi·ªáu qu·∫£ h∆°n 3x.</p>
          <a href="{% url 'vocab:flashcards_english' %}" class="df-srs-start-btn">
            B·∫Øt ƒë·∫ßu √¥n t·∫≠p
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2.5">
              <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
            </svg>
          </a>
        </div>
      </div>

      <!-- Stats Cards -->
      <div class="glass-card df-stat-card df-stat-card--learning bento-span-6">
        <div class="df-stat-icon df-stat-icon--learning">
          <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25" />
          </svg>
        </div>
        <span class="df-stat-value">{{ total_learning }}</span>
        <span class="df-stat-label">T·ªïng s·ªë t·ª´ ƒëang h·ªçc</span>
      </div>

      <div class="glass-card df-stat-card df-stat-card--mastered bento-span-6">
        <div class="df-stat-icon df-stat-icon--mastered">
          <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 01-1.043 3.296 3.745 3.745 0 01-3.296 1.043A3.745 3.745 0 0112 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 01-3.296-1.043 3.745 3.745 0 01-1.043-3.296A3.745 3.745 0 013 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 011.043-3.296 3.746 3.746 0 013.296-1.043A3.746 3.746 0 0112 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 013.296 1.043 3.746 3.746 0 011.043 3.296A3.745 3.745 0 0121 12z" />
          </svg>
        </div>
        <span class="df-stat-value">{{ mastered_count }}</span>
        <span class="df-stat-label">ƒê√£ thu·ªôc (Mastered)</span>
      </div>

      <!-- Games Section -->
      <div class="glass-card df-games-card bento-span-12">
        <div class="df-section-header">
          <div class="df-section-icon" style="background: var(--pastel-peach);">
            <span>üéÆ</span>
          </div>
          <h3 class="df-section-title">Tr√≤ ch∆°i luy·ªán t·∫≠p</h3>
        </div>

        <div class="df-games-grid">
          <!-- MCQ -->
          <a href="{% url 'vocab:game_mcq' %}" class="df-game-card">
            <div class="df-game-icon df-game-icon--mcq">
              <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
            </div>
            <span class="df-game-name">Tr·∫Øc nghi·ªám</span>
          </a>

          <!-- Matching -->
          <a href="{% url 'vocab:game_matching' %}" class="df-game-card">
            <span class="df-game-hot">HOT</span>
            <div class="df-game-icon df-game-icon--matching">
              <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z" />
              </svg>
            </div>
            <span class="df-game-name">N·ªëi t·ª´</span>
          </a>

          <!-- Listening -->
          <a href="{% url 'vocab:game_listening' %}" class="df-game-card">
            <div class="df-game-icon df-game-icon--listening">
              <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z" />
              </svg>
            </div>
            <span class="df-game-name">Nghe t·ª´</span>
          </a>

          <!-- Fill -->
          <a href="{% url 'vocab:game_fill' %}" class="df-game-card">
            <div class="df-game-icon df-game-icon--fill">
              <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10" />
              </svg>
            </div>
            <span class="df-game-name">ƒêi·ªÅn t·ª´</span>
          </a>

          <!-- Dictation -->
          <a href="{% url 'vocab:game_dictation' %}" class="df-game-card">
            <div class="df-game-icon df-game-icon--dictation">
              <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 116 0v8.25a3 3 0 01-3 3z" />
              </svg>
            </div>
            <span class="df-game-name">Ch√≠nh t·∫£</span>
          </a>
        </div>
      </div>

      <!-- Learning Sets Section -->
      {% if learning_sets %}
      <div class="glass-card df-sets-card bento-span-12">
        <div class="df-section-header">
          <div class="df-section-icon" style="background: var(--pastel-lavender);">
            <span>üìñ</span>
          </div>
          <h3 class="df-section-title">B·ªô t·ª´ ƒëang h·ªçc</h3>
        </div>

        <div class="df-learning-sets">
          {% for progress in learning_sets %}
          <a href="{% url 'vocab:course_set_detail' slug=progress.course_slug set_number=progress.vocabulary_set.set_number|default:1 %}" class="df-learning-set-item">
            <div class="df-set-info">
              <div class="df-set-title">{{ progress.vocabulary_set.title }}</div>
              <div class="df-set-progress">
                <div class="df-progress-bar">
                  <div class="df-progress-fill" style="width: {% widthratio progress.words_learned progress.words_total 100 %}%;"></div>
                </div>
                <span class="df-progress-text">{{ progress.words_learned }}/{{ progress.words_total }} t·ª´</span>
              </div>
            </div>
            <svg class="df-set-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
            </svg>
          </a>
          {% endfor %}
        </div>
      </div>
      {% endif %}

    </div>

    <!-- Words List Section -->
    {% if cards %}
    <div class="glass-card df-words-card">
      <div class="df-words-header">
        <div class="df-section-header">
          <div class="df-section-icon" style="background: var(--pastel-sky);">
            <span>üìù</span>
          </div>
          <h3 class="df-section-title">Danh s√°ch t·ª´ v·ª±ng</h3>
        </div>
      </div>

      <div class="df-words-table-wrapper">
        <table class="df-words-table">
          <thead>
            <tr>
              <th>T·ª´ v·ª±ng</th>
              <th>Tr·∫°ng th√°i</th>
              <th>√în t·∫≠p ti·∫øp theo</th>
            </tr>
          </thead>
          <tbody>
            {% for card in cards %}
            <tr>
              <td>
                <div class="df-word-cell">
                  <div class="df-word-avatar">{{ card.vocab.word|slice:":1" }}</div>
                  <span class="df-word-text">{{ card.vocab.word }}</span>
                </div>
              </td>
              <td>
                {% if card.state == 1 %}
                  <span class="df-status-badge df-status-badge--learning">
                    <span class="df-status-dot"></span>
                    ƒêang h·ªçc
                  </span>
                {% elif card.state == 2 %}
                  <span class="df-status-badge df-status-badge--review">
                    <span class="df-status-dot"></span>
                    √în t·∫≠p
                  </span>
                {% elif card.state == 3 %}
                  <span class="df-status-badge df-status-badge--relearning">
                    <span class="df-status-dot"></span>
                    H·ªçc l·∫°i
                  </span>
                {% else %}
                  <span class="df-status-badge df-status-badge--new">M·ªõi</span>
                {% endif %}
              </td>
              <td>
                <span class="df-due-time">{{ card.due|naturaltime }}</span>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

      <!-- Pagination -->
      {% if is_paginated %}
      <div class="df-pagination">
        {% if page_obj.has_previous %}
        <a href="?page={{ page_obj.previous_page_number }}{% if request.GET.filter %}&filter={{ request.GET.filter }}{% endif %}" class="df-page-btn">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
            <path d="M15 18l-6-6 6-6"/>
          </svg>
        </a>
        {% endif %}

        {% for i in paginator.page_range %}
          {% if page_obj.number == i %}
            <span class="df-page-btn active">{{ i }}</span>
          {% elif i > page_obj.number|add:'-3' and i < page_obj.number|add:'3' %}
            <a href="?page={{ i }}{% if request.GET.filter %}&filter={{ request.GET.filter }}{% endif %}" class="df-page-btn">{{ i }}</a>
          {% endif %}
        {% endfor %}

        {% if page_obj.has_next %}
        <a href="?page={{ page_obj.next_page_number }}{% if request.GET.filter %}&filter={{ request.GET.filter }}{% endif %}" class="df-page-btn">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
            <path d="M9 18l6-6-6-6"/>
          </svg>
        </a>
        {% endif %}
      </div>
      {% endif %}
    </div>

    {% else %}
    <!-- Empty State -->
    <div class="glass-card df-empty-state">
      <div class="df-empty-illustration">üìö</div>
      <h3 class="df-empty-title">Ch∆∞a c√≥ t·ª´ v·ª±ng n√†o</h3>
      <p class="df-empty-text">B·∫Øt ƒë·∫ßu h√†nh tr√¨nh h·ªçc t·ª´ v·ª±ng c·ªßa b·∫°n ngay h√¥m nay!</p>
      <a href="{% url 'vocab:list' %}" class="df-empty-link">
        Kh√°m ph√° c√°c b·ªô t·ª´ v·ª±ng
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2.5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
        </svg>
      </a>
    </div>
    {% endif %}

  </div>
</div>
{% endblock %}
