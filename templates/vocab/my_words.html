{% extends "layouts/sidebar_layout.html" %}
{% load static %}
{% load humanize %}

{% block title %}T·ª´ v·ª±ng c·ªßa t√¥i | DailyFluent{% endblock %}

{% block extra_css %}
<style>
  /* =============================================
     Modern My Words Page - Vercel/Linear Inspired
     ============================================= */
  
  .df-my-words-container {
    max-width: 960px;
    margin: 0 auto;
    padding: 2rem 1.5rem;
  }
  
  /* Page Header */
  .df-my-words-header {
    text-align: center;
    margin-bottom: 2rem;
  }
  
  .df-my-words-title {
    font-size: 1.625rem;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 0.25rem;
    letter-spacing: -0.02em;
  }
  
  .df-my-words-subtitle {
    font-size: 0.875rem;
    color: var(--text-tertiary);
  }

  /* Ready Badge - Pill Style */
  .df-ready-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.375rem;
    padding: 0.5rem 1rem;
    background: var(--bg-surface);
    border: 1px solid var(--border-subtle);
    border-radius: 9999px;
    font-size: 0.8125rem;
    font-weight: 500;
    color: var(--text-secondary);
    margin-bottom: 1.5rem;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);
    transition: all 0.15s ease;
  }
  
  .df-ready-badge:hover {
    border-color: var(--border-default);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.06);
  }
  
  .df-ready-count {
    font-weight: 600;
    color: var(--action-primary);
  }

  /* SRS Review Banner - Clean Card */
  .df-srs-banner {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    padding: 1rem 1.25rem;
    background: var(--bg-surface);
    border: 1px solid var(--border-subtle);
    border-radius: 12px;
    margin-bottom: 2rem;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.04);
    transition: all 0.2s ease;
  }
  
  .df-srs-banner:hover {
    border-color: var(--border-default);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
  }

  .df-srs-left {
    display: flex;
    align-items: center;
    gap: 0.875rem;
  }

  .df-srs-icon {
    width: 40px;
    height: 40px;
    border-radius: 10px;
    background: linear-gradient(135deg, #6366F1, #8B5CF6);
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    box-shadow: 0 2px 8px rgba(99, 102, 241, 0.25);
  }

  .df-srs-icon svg {
    width: 20px;
    height: 20px;
  }

  .df-srs-title {
    font-size: 0.9375rem;
    font-weight: 600;
    color: var(--text-primary);
    letter-spacing: -0.01em;
  }

  .df-srs-desc {
    font-size: 0.8125rem;
    color: var(--text-tertiary);
    margin-top: 0.125rem;
  }

  .df-srs-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.625rem 1.25rem;
    background: var(--action-primary);
    color: #fff;
    font-size: 0.8125rem;
    font-weight: 600;
    border-radius: 8px;
    text-decoration: none;
    transition: all 0.15s ease;
    white-space: nowrap;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.08);
  }

  .df-srs-btn:hover {
    background: var(--action-primary-hover);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
  }
  
  .df-srs-btn:active {
    transform: translateY(0);
  }

  .df-srs-btn svg {
    width: 14px;
    height: 14px;
  }

  /* Section Title */
  .df-section-title {
    font-size: 0.8125rem;
    font-weight: 600;
    color: var(--text-tertiary);
    margin-bottom: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.04em;
  }

  /* Games Grid - Minimal Cards */
  .df-games-grid {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 0.75rem;
    margin-bottom: 2rem;
  }

  @media (max-width: 768px) {
    .df-games-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  @media (max-width: 480px) {
    .df-games-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  .df-game-card {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.625rem;
    padding: 1rem 0.75rem;
    background: var(--bg-surface);
    border: 1px solid var(--border-subtle);
    border-radius: 12px;
    text-decoration: none;
    transition: all 0.2s ease;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.03);
  }

  .df-game-card:hover {
    border-color: var(--border-default);
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
  }
  
  .df-game-card:focus {
    outline: 2px solid var(--action-primary);
    outline-offset: 2px;
  }

  .df-game-icon {
    width: 44px;
    height: 44px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12);
  }

  .df-game-icon svg {
    width: 22px;
    height: 22px;
    color: #fff;
  }

  .df-game-name {
    font-size: 0.8125rem;
    font-weight: 500;
    color: var(--text-primary);
    text-align: center;
  }

  .df-game-hot {
    position: absolute;
    top: -0.375rem;
    right: 0.375rem;
    padding: 0.125rem 0.5rem;
    background: linear-gradient(135deg, #F43F5E, #FB923C);
    border-radius: 6px;
    font-size: 0.5625rem;
    font-weight: 700;
    color: #fff;
    text-transform: uppercase;
    letter-spacing: 0.03em;
    box-shadow: 0 2px 6px rgba(244, 63, 94, 0.3);
  }
  
  /* Stats Grid - Clean Cards */
  .df-stats-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
    margin-bottom: 2rem;
  }
  
  .df-stat-card {
    background: var(--bg-surface);
    padding: 1.25rem 1.5rem;
    border-radius: 12px;
    border: 1px solid var(--border-subtle);
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.03);
    transition: all 0.2s ease;
  }
  
  .df-stat-card:hover {
    border-color: var(--border-default);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
  }
  
  .df-stat-value {
    font-size: 2.25rem;
    font-weight: 700;
    color: var(--text-primary);
    letter-spacing: -0.03em;
    line-height: 1;
  }
  
  .df-stat-label {
    color: var(--text-tertiary);
    font-size: 0.8125rem;
    font-weight: 500;
    margin-top: 0.25rem;
  }
  
  /* Learning Sets - Minimal List */
  .df-learning-sets {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    margin-bottom: 2rem;
  }
  
  .df-learning-set-card {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    padding: 1rem 1.25rem;
    background: var(--bg-surface);
    border: 1px solid var(--border-subtle);
    border-radius: 12px;
    text-decoration: none;
    transition: all 0.2s ease;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.03);
  }
  
  .df-learning-set-card:hover {
    border-color: var(--border-default);
    transform: translateX(4px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
  }
  
  .df-learning-set-card:focus {
    outline: 2px solid var(--action-primary);
    outline-offset: 2px;
  }
  
  .df-learning-set-card svg {
    color: var(--text-quaternary);
    flex-shrink: 0;
    transition: color 0.15s ease;
  }
  
  .df-learning-set-card:hover svg {
    color: var(--text-tertiary);
  }
  
  .df-learning-set-info {
    flex: 1;
    min-width: 0;
  }
  
  .df-learning-set-title {
    font-size: 0.9375rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 0.5rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  
  .df-learning-set-progress {
    display: flex;
    align-items: center;
    gap: 0.75rem;
  }
  
  .df-learning-set-progress-bar {
    flex: 1;
    height: 4px;
    background: var(--bg-muted);
    border-radius: 9999px;
    overflow: hidden;
  }
  
  .df-learning-set-progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #10B981, #34D399);
    border-radius: 9999px;
    transition: width 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  }
  
  .df-learning-set-progress-text {
    font-size: 0.75rem;
    font-weight: 500;
    color: var(--text-tertiary);
    white-space: nowrap;
  }
  
  /* Words Table - Clean Design */
  .df-words-table-container {
    background: var(--bg-surface);
    border-radius: 12px;
    border: 1px solid var(--border-subtle);
    overflow: hidden;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.04);
  }
  
  .df-words-table {
    width: 100%;
    border-collapse: collapse;
  }
  
  .df-words-table th,
  .df-words-table td {
    padding: 0.875rem 1.25rem;
    text-align: left;
    border-bottom: 1px solid var(--border-subtle);
  }
  
  .df-words-table th {
    background: var(--bg-muted);
    font-weight: 600;
    color: var(--text-tertiary);
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }
  
  .df-words-table tbody tr {
    transition: background 0.15s ease;
  }
  
  .df-words-table tbody tr:hover {
    background: var(--bg-interactive);
  }
  
  .df-words-table tr:last-child td {
    border-bottom: none;
  }
  
  .df-word-primary {
    font-weight: 600;
    color: var(--text-primary);
    font-size: 0.9375rem;
  }
  
  /* Badges - Pill Style */
  .df-badge {
    display: inline-flex;
    align-items: center;
    padding: 0.25rem 0.625rem;
    border-radius: 6px;
    font-size: 0.6875rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.02em;
  }
  
  .df-badge--learning {
    background: rgba(59, 130, 246, 0.1);
    color: #3b82f6;
  }
  
  .df-badge--review {
    background: rgba(16, 185, 129, 0.1);
    color: #059669;
  }
  
  .df-badge--relearning {
    background: rgba(239, 68, 68, 0.1);
    color: #dc2626;
  }
  
  /* Dark Theme Badge Colors - Higher Contrast */
  [data-theme="dark"] .df-badge--learning {
    background: rgba(59, 130, 246, 0.2);
    color: #60a5fa;
  }
  
  [data-theme="dark"] .df-badge--review {
    background: rgba(16, 185, 129, 0.2);
    color: #34d399;
  }
  
  [data-theme="dark"] .df-badge--relearning {
    background: rgba(239, 68, 68, 0.2);
    color: #f87171;
  }
  
  /* Pagination - Minimal */
  .df-pagination {
    display: flex;
    justify-content: center;
    gap: 0.375rem;
    margin-top: 1.5rem;
  }
  
  .df-page-btn {
    min-width: 36px;
    height: 36px;
    padding: 0 0.75rem;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
    background: var(--bg-surface);
    border: 1px solid var(--border-subtle);
    color: var(--text-secondary);
    font-size: 0.8125rem;
    font-weight: 500;
    transition: all 0.15s ease;
    text-decoration: none;
  }
  
  .df-page-btn:hover {
    border-color: var(--border-default);
    background: var(--bg-interactive);
    color: var(--text-primary);
  }
  
  .df-page-btn:focus {
    outline: 2px solid var(--action-primary);
    outline-offset: 2px;
  }
  
  .df-page-btn.active {
    background: var(--action-primary);
    color: #fff;
    border-color: var(--action-primary);
  }

  /* Empty State */
  .df-empty-state {
    text-align: center;
    padding: 4rem 2rem;
    background: var(--bg-surface);
    border-radius: 16px;
    border: 1px solid var(--border-subtle);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.04);
  }

  .df-empty-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
    opacity: 0.8;
  }

  .df-empty-text {
    color: var(--text-tertiary);
    margin-bottom: 1.5rem;
    font-size: 0.9375rem;
  }

  .df-empty-link {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--action-primary);
    font-weight: 600;
    text-decoration: none;
    transition: all 0.15s ease;
  }

  .df-empty-link:hover {
    text-decoration: underline;
    text-underline-offset: 2px;
  }

  /* Responsive */
  @media (max-width: 640px) {
    .df-my-words-container {
      padding: 1.5rem 1rem;
    }
    
    .df-srs-banner {
      flex-direction: column;
      text-align: center;
      padding: 1.25rem;
    }

    .df-srs-left {
      flex-direction: column;
    }
    
    .df-stats-grid {
      grid-template-columns: 1fr;
    }
    
    .df-stat-value {
      font-size: 1.75rem;
    }
    
    .df-words-table th,
    .df-words-table td {
      padding: 0.75rem 1rem;
    }
  }
</style>
{% endblock %}

{% block content %}
<div class="df-my-words-container">
  <!-- Header -->
  <div class="df-my-words-header">
    <h1 class="df-my-words-title">üìö T·ª´ v·ª±ng c·ªßa t√¥i</h1>
    <p class="df-my-words-subtitle">Luy·ªán t·∫≠p v√† theo d√µi ti·∫øn ƒë·ªô h·ªçc</p>
    <div style="margin-top: 1rem; display: flex; gap: 0.75rem; justify-content: center;">
      <a href="{% url 'vocab:set_create' %}" class="df-srs-btn" style="background: var(--bg-surface); color: var(--text-primary); border: 1px solid var(--border-default);">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M12 5v14M5 12h14"/>
        </svg>
        T·∫°o b·ªô t·ª´ m·ªõi
      </a>
      <a href="{% url 'vocab:set_list' %}?tab=my" class="df-srs-btn" style="background: var(--bg-surface); color: var(--text-primary); border: 1px solid var(--border-default);">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/>
          <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/>
        </svg>
        B·ªô t·ª´ c·ªßa t√¥i
      </a>
    </div>
  </div>

  <!-- Ready Count -->
  <div style="text-align: center;">
    <span class="df-ready-badge">
      <span class="df-ready-count">{{ ready_count }}</span> t·ª´ s·∫µn s√†ng √¥n t·∫≠p
    </span>
  </div>

  <!-- SRS Flashcard Banner -->
  <div class="df-srs-banner">
    <div class="df-srs-left">
      <div class="df-srs-icon">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12" />
        </svg>
      </div>
      <div>
        <div class="df-srs-title">Flashcard SRS</div>
        <div class="df-srs-desc">√în t·∫≠p l·∫∑p l·∫°i ng·∫Øt qu√£ng</div>
      </div>
    </div>
    <a href="{% url 'vocab:flashcards_english' %}" class="df-srs-btn">
      <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z" />
      </svg>
      B·∫Øt ƒë·∫ßu
    </a>
  </div>

  <!-- Games Section -->
  <div class="df-section-title">üéØ Tr√≤ ch∆°i luy·ªán t·∫≠p</div>

  <div class="df-games-grid">
    <!-- MCQ -->
    <a href="{% url 'vocab:game_mcq' %}" class="df-game-card">
      <div class="df-game-icon" style="background: linear-gradient(135deg, #F97316, #FB923C);">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
      </div>
      <div class="df-game-name">Tr·∫Øc nghi·ªám</div>
    </a>

    <!-- Matching -->
    <a href="{% url 'vocab:game_matching' %}" class="df-game-card">
      <span class="df-game-hot">HOT</span>
      <div class="df-game-icon" style="background: linear-gradient(135deg, #8B5CF6, #A78BFA);">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z" />
        </svg>
      </div>
      <div class="df-game-name">N·ªëi t·ª´</div>
    </a>

    <!-- Listening -->
    <a href="{% url 'vocab:game_listening' %}" class="df-game-card">
      <div class="df-game-icon" style="background: linear-gradient(135deg, #14B8A6, #2DD4BF);">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z" />
        </svg>
      </div>
      <div class="df-game-name">Nghe t·ª´</div>
    </a>

    <!-- Fill -->
    <a href="{% url 'vocab:game_fill' %}" class="df-game-card">
      <div class="df-game-icon" style="background: linear-gradient(135deg, #EC4899, #F472B6);">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10" />
        </svg>
      </div>
      <div class="df-game-name">ƒêi·ªÅn t·ª´</div>
    </a>

    <!-- Dictation -->
    <a href="{% url 'vocab:game_dictation' %}" class="df-game-card">
      <div class="df-game-icon" style="background: linear-gradient(135deg, #0EA5E9, #38BDF8);">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 116 0v8.25a3 3 0 01-3 3z" />
        </svg>
      </div>
      <div class="df-game-name">Ch√≠nh t·∫£</div>
    </a>
  </div>

  <!-- Stats Section -->
  <div class="df-section-title">üìä Th·ªëng k√™</div>
  
  <div class="df-stats-grid">
    <div class="df-stat-card">
      <span class="df-stat-value">{{ total_learning }}</span>
      <span class="df-stat-label">T·ªïng s·ªë t·ª´ ƒëang h·ªçc</span>
    </div>
    <div class="df-stat-card">
      <span class="df-stat-value">{{ mastered_count }}</span>
      <span class="df-stat-label">ƒê√£ thu·ªôc (Mastered)</span>
    </div>
  </div>
  
  <!-- Learning Sets Section -->
  {% if learning_sets %}
  <div class="df-section-title">üìñ B·ªô t·ª´ ƒëang h·ªçc</div>
  <div class="df-learning-sets">
    {% for progress in learning_sets %}
    <a href="{% url 'vocab:course_set_detail' slug=progress.course_slug set_number=progress.vocabulary_set.set_number|default:1 %}" class="df-learning-set-card">
      <div class="df-learning-set-info">
        <div class="df-learning-set-title">{{ progress.vocabulary_set.title }}</div>
        <div class="df-learning-set-progress">
          <div class="df-learning-set-progress-bar">
            <div class="df-learning-set-progress-fill" style="width: {% widthratio progress.words_learned progress.words_total 100 %}%;"></div>
          </div>
          <span class="df-learning-set-progress-text">{{ progress.words_learned }}/{{ progress.words_total }} t·ª´</span>
        </div>
      </div>
      <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
      </svg>
    </a>
    {% endfor %}
  </div>
  {% endif %}
  
  <!-- Words List Section -->
  <div class="df-section-title">üìù Danh s√°ch t·ª´ v·ª±ng</div>
  
  {% if cards %}
  <div class="df-words-table-container">
    <table class="df-words-table">
      <thead>
        <tr>
          <th>T·ª´ v·ª±ng</th>
          <th>Tr·∫°ng th√°i</th>
          <th>√în t·∫≠p ti·∫øp theo</th>
        </tr>
      </thead>
      <tbody>
        {% for card in cards %}
        <tr>
          <td>
            <div class="df-word-primary">{{ card.vocab.word }}</div>
          </td>
          <td>
            {% if card.state == 1 %}
              <span class="df-badge df-badge--learning">ƒêang h·ªçc</span>
            {% elif card.state == 2 %}
              <span class="df-badge df-badge--review">√în t·∫≠p</span>
            {% elif card.state == 3 %}
              <span class="df-badge df-badge--relearning">H·ªçc l·∫°i</span>
            {% else %}
              <span class="df-badge">M·ªõi</span>
            {% endif %}
          </td>
          <td style="font-size: 0.875rem; color: var(--text-secondary);">
            {{ card.due|naturaltime }}
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  
  <!-- Pagination -->
  {% if is_paginated %}
  <div class="df-pagination">
    {% if page_obj.has_previous %}
    <a href="?page={{ page_obj.previous_page_number }}{% if request.GET.filter %}&filter={{ request.GET.filter }}{% endif %}" class="df-page-btn">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M15 18l-6-6 6-6"/>
      </svg>
    </a>
    {% endif %}
    
    {% for i in paginator.page_range %}
      {% if page_obj.number == i %}
        <span class="df-page-btn active">{{ i }}</span>
      {% elif i > page_obj.number|add:'-3' and i < page_obj.number|add:'3' %}
        <a href="?page={{ i }}{% if request.GET.filter %}&filter={{ request.GET.filter }}{% endif %}" class="df-page-btn">{{ i }}</a>
      {% endif %}
    {% endfor %}
    
    {% if page_obj.has_next %}
    <a href="?page={{ page_obj.next_page_number }}{% if request.GET.filter %}&filter={{ request.GET.filter }}{% endif %}" class="df-page-btn">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M9 18l6-6-6-6"/>
      </svg>
    </a>
    {% endif %}
  </div>
  {% endif %}
  
  {% else %}
  <div class="df-empty-state">
    <div class="df-empty-icon">üìö</div>
    <p class="df-empty-text">B·∫°n ch∆∞a h·ªçc t·ª´ v·ª±ng n√†o.</p>
    <a href="{% url 'vocab:list' %}" class="df-empty-link">
      Kh√°m ph√° c√°c b·ªô t·ª´ v·ª±ng ngay ‚Üí
    </a>
  </div>
  {% endif %}
</div>
{% endblock %}
